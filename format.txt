スクレイピング用正規表現ファイルの文法

(例)
[comment_date]
multi = true
match {
(?s)<dl>
<dt>(\d+)年<br />(\d+)月(\d+)日<br />(\d+):(\d+)</dt>
\s*<dd>\s*
<div class="title">
<p class="heading"><strong>
}
output {
$1/$2/$3 $4:$5
}


上から順に、
  * [comment_date]
    取得するデータの名前。スクレイピングの結果はHashMapで返ってくるので、その時のキーになります。

  * multi
    正規表現に一致する文字列を複数回探すかどうか。デフォルトはfalse
    falseだと最初にマッチした文字列だけ、trueだと2つめ以降も探します。

  * match
    正規表現を記述する。もちろん省略不可。

  * output
    マッチした場合、どのように出力するか。デフォルトは$1。
    上の例では日時を「年/月/日 時:分」の形式にしています。

  * ign_blankline (例では使われていない)
    HTMLの途中の空行を無視して正規表現とマッチさせる。デフォルトはtrue
    実際は正規表現の各行頭に「\s*」を追加しているだけ。

